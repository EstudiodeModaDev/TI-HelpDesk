/* =========================================================
   DOCUMENTAR — formulario con acciones “de esquina”
   ========================================================= */
.documentar-form{
  --pad: clamp(12px, 1.8vw, 18px);
  --gap: clamp(10px, 1.4vw, 16px);

  background: var(--surface);
  color: var(--ink);
  overflow: visible;
  position: relative;          /* soporte para variante --edge */
  container-type: inline-size; /* responsive por espacio real */
}

.documentar-title{
  margin: 0 0 6px 0;
  font-weight: 800;
  letter-spacing: .2px;
  color: var(--ink);
}

/* ===== Grid principal: 2 columnas → 1 ===== */
.documentar-grid{
  display: grid;
  grid-template-columns: repeat(2, minmax(280px, 1fr));
  gap: var(--gap);
  margin-top: 8px;
}

/* Cada CAMPO es una FILA */
.documentar-field{
  display: grid;
  gap: 6px;
  min-width: 0;
}
.documentar-col-2{ grid-column: 1 / -1; }

/* Etiquetas */
.documentar-label{
  font-weight: 700;
  color: var(--ink);
}

/* ===== Inputs nativos ===== */
.documentar-input,
.documentar-form input[type="text"],
.documentar-form input[type="date"],
.documentar-form input[type="file"],
.documentar-form select{
  appearance: none;
  width: 100%;
  background: var(--field-bg);
  color: var(--ink);
  border: 1px solid var(--bd);
  border-radius: 12px;
  padding: 10px 12px;
  outline: none;
  transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
  min-width: 0;
}


.documentar-form input[type="file"]{
    margin-bottom: 10px;
}

.documentar-form ::placeholder{
  color: color-mix(in oklab, var(--muted) 85%, transparent);
}
.documentar-input:focus,
.documentar-form input:focus,
.documentar-form select:focus{
  border-color: color-mix(in oklab, var(--primary) 55%, var(--bd) 45%);
  box-shadow: 0 0 0 4px var(--ring);
}

/* ===== Editor enriquecido (RichTextBase64) =====
   Intenta aplicar alguna de estas clases en tu componente.
   Si no, el selector :where(...) cubre los contenedores comunes. */
.documentar-form :where(.rtb,.rtb-box,.richtext,.ql-container){
  background: var(--field-bg);
  border: 1px solid var(--bd);
  border-radius: 12px;
  padding: 8px;
  min-height: 140px;
  overflow: auto;
}

/* Hint/errores */
.hint{
  color: var(--muted);
  font-size: .9rem;
}
.error{
  color: color-mix(in oklab, var(--primary) 40%, var(--ink) 60%);
  font-weight: 700;
  font-size: .9rem;
}

/* =========================================================
   Acciones (edge + normal)
   ========================================================= */
.documentar-actions{
  display: grid;
  grid-template-columns: 1fr auto; /* izquierda | derecha */
  align-items: center;
  gap: 10px;
}

/* Botón primario */
.documentar-submit{
  appearance: none;
  border: 1px solid var(--primary);
  background: var(--primary);
  color: var(--primary-ink);
  font-weight: 800;
  padding: 10px 16px;
  border-radius: 999px;
  cursor: pointer;
  box-shadow: var(--shadow);
  transition: transform .06s ease, filter .15s ease, box-shadow .18s ease;
}
.documentar-submit:hover{ box-shadow: 0 0 0 6px var(--ring); filter: brightness(1.03); }
.documentar-submit:active{ transform: translateY(1px); }
.documentar-submit[disabled]{ opacity: .6; cursor: not-allowed; }

/* Secundarios ghost (sin color fijo) */
.documentar-secondary{
  appearance: none;
  border: 1px solid var(--bd);
  background: color-mix(in oklab, var(--field-bg) 92%, transparent);
  color: var(--ink);
  font-weight: 800;
  padding: 10px 14px;
  border-radius: 999px;
  cursor: pointer;
  box-shadow: var(--shadow);
  transition: transform .06s ease, filter .15s ease, box-shadow .18s ease;
}
.documentar-secondary:hover{ box-shadow: 0 0 0 6px var(--ring); filter: brightness(1.03); }
.documentar-secondary:active{ transform: translateY(1px); }

/* ===== Variante “de esquina” (desktop) ===== */
.documentar-form--edge .documentar-actions{
  /* ancla solo el contenedor de acciones; el resto del form fluye normal */
  position: absolute;
  inset-block-end: var(--pad);
  inset-inline: var(--pad);
  grid-template-columns: 1fr 1fr; /* dos zonas: izq (sec.) y der (save) */
}

.btn-save{
  grid-column: 2;
  justify-self: end;
}

/* Evita que las acciones pisen el contenido final del form */
.documentar-form--edge .documentar-grid{
  padding-bottom: calc(var(--pad) + 64px);
}

/* =========================================================
   Responsive (container queries por espacio real)
   ========================================================= */

/* 2 → 1 columna y acciones en flujo */
@container (max-width: 900px){
  .documentar-grid{ grid-template-columns: 1fr; }
  .documentar-form--edge .documentar-actions{
    position: static;    /* vuelve al flujo */
    inset: auto;
    grid-template-columns: 1fr; /* apilar */
    pointer-events: auto;
    margin-top: 6px;
  }
  .documentar-form--edge .documentar-grid{
    padding-bottom: 0;   /* ya no reservamos espacio extra */
  }
  .documentar-submit{ width: 100%; }
  .documentar-secondary{ width: 100%; }
}

/* Compacto */
@container (max-width: 560px){
  .documentar-form{ --pad: 12px; }
  .documentar-grid{ gap: 10px; }
  .documentar-form :where(.rtb,.rtb-box,.richtext,.ql-container){ min-height: 120px; }
}


.btn-action, .btn-action{
  grid-column: 1;
  justify-self: start;
}

.btn-action{ margin: 0; width: 400px;}
.btn-action{ margin-top: 8px; }

/* Si estás usando la variante --edge, respeta el anclaje */
.documentar-form--edge .documentar-actions{
  position: absolute;
  inset-inline: var(--pad);
  inset-block-end: var(--pad);
  grid-template-columns: 1fr auto;
}

/* Botones secundarios más angostos */
.btn-action{
  /* quita el ancho fijo anterior */
  width: auto;                 /* fallback */
  inline-size: clamp(160px, 32ch, 260px); /* “un poco menos ancho” y fluido por texto */
  justify-self: start;
  margin-top: 8px;
}

/* Si quieres que ambos secundarios tengan el mismo ancho visual, usa min en vez de clamp: */
/* .btn-action{ min-inline-size: 220px; inline-size: max-content; } */

/* En móvil ya tienes regla que los pone al 100%, mantenla: */
@container (max-width: 900px){
  .btn-action{ inline-size: 100%; }
}

.documentar-actions{
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;                /* si no cabe, salta de línea ordenadamente */
}

.btn-action{
  order: 1;                       /* aparecen antes que Guardar */
  display: inline-flex;
  inline-size: clamp(160px, 28ch, 340px);  /* un poco más angostos y fluidos */
}

/* Guardar va al extremo derecho */
.btn-save{
  order: 3;                       /* al final del flujo */
  margin-left: auto;              /* empuja hacia la derecha */
}

/* Variante --edge: mantenemos el anclaje inferior */
.documentar-form--edge .documentar-actions{
  position: absolute;
  inset-inline: var(--pad);
  inset-block-end: var(--pad);
}

/* Responsivo: en contenedor estrecho, apilar a 100% */
@container (max-width: 900px){
  .documentar-actions{ justify-content: stretch; }
  .btn-action, .btn-save{ inline-size: 100%; }
}