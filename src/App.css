:root{
  --sb-bg:#176d72;
  --sb-bg-2:#1e7e83;
  --sb-pill:rgba(255,255,255,0.12);
  --sb-hover:rgba(255,255,255,0.08);
  --sb-text:#eaf6f6;
  --sb-muted:#bfe4e4;
  --sb-shadow:0 10px 30px rgba(0,0,0,.15);
  --page-pad:16px;              
  --radius-3xl:28px;
}

.layout{
  min-height:100dvh;
  background:#8dc2c5;
}

.sidebar{
  grid-area:sidebar;
  display:flex;
  flex-direction:column;
  background:var(--sb-bg);
  border-radius:var(--radius-3xl);
  box-shadow:var(--sb-shadow);
  color:var(--sb-text);
  padding:14px;
  padding-bottom: 5px;
  position:sticky;
  top:var(--page-pad);
  height:calc(100dvh - (var(--page-pad) * 2));
}

.sidebar__header{
  font-weight:700;
  letter-spacing:.3px;
  opacity:.9;
  padding:8px 10px 14px 10px;
}

.sidebar__nav{
  overflow:auto;
  padding:4px;
  flex:1;
  scrollbar-width:thin;
  scrollbar-color:var(--sb-hover) transparent;
}
.sidebar__nav::-webkit-scrollbar{ width:8px; }

.sidebar__nav::-webkit-scrollbar-thumb{
  background:var(--sb-hover);
  border-radius:999px;
}

.sb-ul{ list-style:none; margin:0; padding:0; }

.sb-li + .sb-li{ margin-top:2px; }

.sideItem{
  width:100%;
  display:flex; align-items:center; gap:10px;
  padding:12px 12px;
  border:0; background:transparent; color:var(--sb-text);
  border-radius:14px; cursor:pointer;
  transition:background .2s ease, transform .04s ease;
  text-align:left;
}

.sideItem:hover{ background:var(--sb-hover); }

.sideItem:active{ transform:translateY(1px); }

.sideItem--leaf{ position:relative; }

.sideItem--active{
  background:var(--sb-pill);
  outline:2px solid rgba(255,255,255,0.08);
}
.sideItem__icon{ width:22px; display:inline-flex; justify-content:center; opacity:.92; }

.sideItem__label{ font-size:15px; }

.sideItem--folder{ font-weight:600; }

.caret{ margin-right:6px; opacity:.8; transition:transform .2s ease; }

.caret.rot{ transform:rotate(90deg); }

.sidebar__footer{
  background:rgba(255,255,255,0.06);
  border-radius:14px;
  padding:10px 12px;
  display:flex; align-items:center; gap:10px;
  color:var(--sb-muted);
}

.sb-prof__avatar{
  width:28px; height:28px; border-radius:999px;
  background:var(--sb-bg-2); display:grid; place-items:center;
  font-weight:800; color:white;
}

.sb-prof__info{ display:grid; }

.sb-prof__name{ font-weight:700; color:var(--sb-text); font-size:14px; }

.sb-prof__mail{ font-size:12px; opacity:.9; }

.content--withSidebar{
  grid-area: content;
  display: grid;
  min-height: 0;
  align-items: stretch;
}

.page--fluid{
  place-items:stretch;
}

.page--fluid > *{
  width:100%;
  height:100%;
  min-width:0;
  min-height:0;
  display:grid;              /* para poder centrar su contenido interno */
}

.page--fluid iframe{
  display:block;
  width:100%;
  height:100%;
  border:0;
}

.page > form,
.page > .form-wrapper,
.page > .card,
.page > .panel{
  margin:0;
}

.content--withSidebar input,
.content--withSidebar select,
.content--withSidebar textarea{
  background:#ffffff;
  border:1px solid #e6eef0;
  border-radius:12px;
}

@media (max-width:960px){
  .layout--withSidebar{
    grid-template-columns:1fr;             /* sidebar arriba, contenido abajo */
    grid-template-rows:auto 1fr;
    grid-template-areas:
      "sidebar"
      "content";
  }
  .sidebar{
    position:relative;
    top:auto;
    height:auto;
  }
  .page-viewport{
    min-height:calc(100dvh - (var(--page-pad))); /* un poco más flexible en móvil */
  }
}

.layout--withSidebar{
  display:grid;
  grid-template-columns:280px 1fr;
  grid-template-rows:1fr;
  grid-template-areas:"sidebar content";
  gap:16px;
  padding:16px;
  grid-area:content;
  min-height:0;  
  align-items:stretch;
}

.page-viewport{
  width:100%;
  min-height:calc(100dvh - 32px);
  display:grid;
  min-width:0; 
}

.page{
  width:100%;
  height:100%;
  display:grid;
  place-items:center;        /* centrado por defecto */
  min-width:0;
  min-height:0;
  overflow:auto;             /* permite scroll cuando el contenido lo requiere */
}

/* 1) La columna de contenido se puede expandir al 100% sin colapsar */
.layout--withSidebar{
  grid-template-columns: 280px minmax(0, 1fr) !important;
}

/* 2) El área de contenido NO centra: estira siempre a todo el ancho */
.content--withSidebar{
  grid-area: content;
  display: grid;
  place-items: stretch;   /* <-- clave */
  min-height: 0;
  min-width: 0;
}

/* 3) Wrappers internos: ocupar todo el panel, nada de shrink */
.page-viewport{
  width: 100%;
  display: grid;
  place-items: stretch;
  min-width: 0;           /* evita min-content */
}

.page{
  width: 100%;
  height: 100%;
  display: grid;
  place-items: stretch;   /* ya no centramos aquí */
  min-width: 0;
  min-height: 0;
  overflow: auto;         /* scroll si el contenido lo necesita */
}

/* 4) Cada vista (como tu HomeDashboard) ocupa 100% */
.page > *{
  width: 100% !important;
  height: 100% !important;
  min-width: 0 !important;
  min-height: 0 !important;
}

/* Por si quedó alguna regla vieja que centre o limite ancho */
.content__inner,
.center-all{
  width: 100% !important;
  max-width: none !important;
  justify-self: stretch !important;
  align-self: stretch !important;
}

.center-all > *{
  place-items:center;        /* centra dentro del componente */
}

.sb-icon-wrap {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 1.75rem;
  height: 1.75rem;
  margin-right: .5rem;
  flex-shrink: 0;
}

.sb-icon {        /* para los SVG */
  width: 1.25rem;
  height: 1.25rem;
}

.sb-emoji {       /* para los emojis */
  font-size: 1.1rem;
  line-height: 1;
}

/* ==========================================================================
   Header (usa los tokens globales que ya definiste)
   ========================================================================== */

.headerRow{
  /* layout */
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 16px;

  /* visual */
  background: var(--surface);
  color: var(--ink);
  border-bottom: 1px solid var(--border);
  box-shadow: 0 2px 10px rgba(2, 6, 23, .04);

  /* espaciado */
  padding: 12px 16px;
}

/* Marca/título a la izquierda */
.brand{
  display: flex;
  align-items: center;
  gap: 10px;
  min-width: 0;
}
.brand h1{
  margin: 0;
  font-size: 18px;
  font-weight: 800;
  line-height: 1.1;
  color: var(--ink);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Cluster de usuario a la derecha */
.userCluster{
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: max-content;
  align-items: center;
  gap: 12px;
}

/* Avatar simple con inicial */
.avatar{
  width: 36px;
  height: 36px;
  border-radius: 999px;
  background: var(--field-bg);
  color: var(--ink);
  border: 1px solid var(--border);
  display: grid;
  place-items: center;
  font-weight: 700;
}

/* Info del usuario */
.userInfo{
  display: grid;
  align-content: center;
  line-height: 1.15;
}
.userName{
  font-weight: 700;
  font-size: 14px;
  color: var(--ink);
}
.userMail{
  font-size: 12px;
  color: var(--muted);
}

/* Botón de acción primaria del header (login/logout) */
.btn-logout{
  appearance: none;
  border: 1px solid var(--primary);
  background: var(--primary);
  color: var(--primary-ink);
  padding: 8px 12px;
  border-radius: calc(var(--radius) - 8px);
  font-weight: 600;
  cursor: pointer;
  transition: transform .06s ease, box-shadow .15s ease, opacity .15s ease;
}
.btn-logout:hover{
  box-shadow: 0 0 0 4px var(--ring);
}
.btn-logout:active{
  transform: translateY(1px);
}
.btn-logout:disabled,
.btn-logout[aria-busy="true"]{
  opacity: .6;
  cursor: default;
  box-shadow: none;
}

/* ==========================================================================
   Detalles opcionales
   ========================================================================== */

/* Fijar el header arriba si quieres efecto sticky */
.headerRow.is-sticky{
  position: sticky;
  top: 0;
  z-index: 40;
}

/* Contenedor centrado máximo (si tu layout lo requiere) */
.headerRow .container{
  max-width: 1280px;
  margin: 0 auto;
  width: 100%;
}

/* ==========================================================================
   Responsive
   ========================================================================== */

@media (max-width: 640px){
  .headerRow{
    grid-template-columns: 1fr;
    gap: 8px;
    padding: 10px 12px;
  }
  .userCluster{
    justify-content: space-between;
  }
  .brand h1{
    font-size: 16px;
  }
  .btn-logout{
    padding: 6px 10px;
  }
}

/* ===== Variables y layout base ===== */
:root{
  --sb-w-open: 260px;
  --sb-w-closed: 68px; /* solo íconos */
  --sb-bg: #0f172a;    /* pizarra */
  --sb-fg: #e5e7eb;    /* gris claro */
  --sb-accent: #38bdf8;/* cian */
  --content-bg: #f7f8fa;
}

.layout.layout--withSidebar{
  --sb-w: var(--sb-w-open);
  display: grid;
  grid-template-columns: var(--sb-w) 1fr;
  grid-template-rows: 100%;
  width: 100%;
  min-height: 100dvh;
  background: var(--content-bg);
  transition: grid-template-columns .22s ease;
}

/* Cuando está colapsado, estrecha la columna 1 */
.layout.layout--withSidebar.is-collapsed{
  --sb-w: var(--sb-w-closed);
}

/* ===== Sidebar ===== */
.sidebar{
  position: sticky;
  top: 0;
  height: 100dvh;
  background: var(--sb-bg);
  color: var(--sb-fg);
  border-right: 1px solid rgba(255,255,255,.06);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: width .22s ease, padding .22s ease;
}

.sidebar__header{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 12px 10px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

.sb-brand{
  display: flex; align-items: center; gap: 8px;
  min-width: 0;
}
.sb-logo{ font-size: 18px; }
.sb-title{ font-weight: 700; letter-spacing:.2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.sb-toggle{
  border: 0;
  background: transparent;
  color: var(--sb-fg);
  opacity: .9;
  font-weight: 700;
  padding: 6px 8px;
  border-radius: 8px;
  cursor: pointer;
}
.sb-toggle:hover{ background: rgba(255,255,255,.08); }

/* Navegación */
.sidebar__nav{
  flex: 1;
  overflow: auto;
  padding: 8px 6px 10px 6px;
}

.sb-ul{ list-style: none; margin: 0; padding: 0; }
.sb-li + .sb-li{ margin-top: 2px; }

.sideItem{
  width: 100%;
  display: flex; align-items: center; gap: 8px;
  padding: 8px 10px;
  border: 0;
  background: transparent;
  color: var(--sb-fg);
  border-radius: 10px;
  cursor: pointer;
  transition: background .12s ease, color .12s ease, padding .2s ease;
}
.sideItem:hover{ background: rgba(255,255,255,.06); }
.sideItem--active{ background: rgba(56,189,248,.18); color: #fff; }

.sideItem--folder .caret{
  display: inline-block;
  margin-right: 4px;
  transform: translateY(-1px);
  transition: transform .15s ease;
  opacity: .9;
}
.sideItem--folder .caret.rot{ transform: rotate(90deg) translateY(-1px); }

.sb-icon-wrap,
.sideItem__icon{
  width: 20px; height: 20px; display: inline-grid; place-items: center;
}
.sb-icon{ width: 18px; height: 18px; }

.sideItem__label{
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* Compacto cuando está colapsado: ocultamos labels con el markup, pero refinamos paddings */
.sideItem.is-compact{
  justify-content: center;
  gap: 0;
  padding-left: 8px !important;
  padding-right: 8px !important;
}

/* Footer del sidebar */
.sidebar__footer{
  display: flex; align-items: center; gap: 10px;
  padding: 10px 10px 12px 10px;
  border-top: 1px solid rgba(255,255,255,.08);
}

.sb-prof__avatar{
  width: 28px; height: 28px; border-radius: 999px;
  display: grid; place-items: center;
  background: rgba(255,255,255,.1);
  font-weight: 800;
}
.sb-prof__info{
  display: grid; gap: 2px;
  min-width: 0;
}
.sb-prof__mail{
  font-size: 12px; opacity: .9;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* ===== Content ===== */
.content.content--withSidebar{
  min-width: 0;
  overflow: hidden;
  background: var(--content-bg);
  transition: padding .22s ease;
}
.page-viewport{ width: 100%; height: 100%; }

/* Un poco de respiración alrededor del render */
.page.page--fluid.center-all{
  padding: 16px;
}

/* ===== Responsive ===== */
/* En pantallas pequeñas, el sidebar se comporta como "rail" estrecho por defecto */
@media (max-width: 900px){
  .layout.layout--withSidebar{
    --sb-w-open: 220px;
    --sb-w-closed: 56px;
  }
}


