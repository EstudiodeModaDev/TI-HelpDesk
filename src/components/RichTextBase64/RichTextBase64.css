/* =========================================================
   RTE — usa tokens globales (con fallbacks)
   ========================================================= */
.rte{
  /* Mapea a tokens de la app */
  --rte-bg:            var(--surface, #fff);
  --rte-surface:       var(--surface, #fff);
  --rte-border:        var(--bd, #e5e7eb);
  --rte-border-hover:  var(--bd-strong, #d1d5db);
  --rte-border-focus:  var(--primary, #3b82f6);
  --rte-text:          var(--ink, #0f172a);
  --rte-text-muted:    var(--muted, #64748b);
  --rte-primary:       var(--primary, #3b82f6);
  --rte-primary-ghost: color-mix(in oklab, var(--ring, rgba(59,130,246,.25)) 45%, transparent);
  --rte-shadow:        var(--shadow, 0 2px 10px rgba(15,23,42,.06));
  --rte-radius:        var(--radius, 10px);
  --rte-btn-radius:    calc(var(--radius, 10px) - 2px);
  --rte-btn-size:      28px;
  --rte-gap:           6px;
  --rte-toolbar-h:     40px;

  background: var(--rte-bg);
  color: var(--rte-text);
  border: 1px solid var(--rte-border);
  border-radius: var(--rte-radius);
  box-shadow: var(--rte-shadow);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

/* Toolbar */
.rte-toolbar{
  display: flex;
  align-items: center;
  gap: var(--rte-gap);
  min-height: var(--rte-toolbar-h);
  padding: 6px 8px;
  background: color-mix(in oklab, var(--surface, #fff) 92%, var(--field-bg, #f8fafc));
  border-bottom: 1px solid var(--rte-border);
}

/* Separador */
.rte-toolbar .rte-sep{
  width: 1px; height: 22px;
  background: var(--rte-border);
  margin: 0 2px;
}

/* Botón */
.rte-toolbar > button{
  display: inline-grid; place-items: center;
  height: var(--rte-btn-size); min-width: var(--rte-btn-size);
  padding: 0 8px;
  border: 1px solid transparent;
  border-radius: var(--rte-btn-radius);
  background: transparent;
  color: var(--rte-text);
  font-size: 13px; line-height: 1;
  cursor: pointer;
  transition: background .12s ease, border-color .12s ease, transform .04s ease;
  user-select: none;
}
.rte-toolbar > button:hover{
  background: color-mix(in oklab, var(--field-bg, #f8fafc) 92%, transparent);
  border-color: var(--rte-border-hover);
}
.rte-toolbar > button:active{ transform: translateY(.5px); }

/* “Iconos” tipográficos simples */
.rte-toolbar i, .rte-toolbar u, .rte-toolbar b{
  font-style: normal; text-decoration: none; font-weight: 600;
}

/* Área editable */
.rte-editor{
  padding: 14px 16px;
  min-height: 180px;
  background: var(--rte-surface);
  border-top: 1px solid transparent; /* ya hay borde en toolbar */
  color: var(--rte-text);
}

/* Focus del contenedor */
.rte:focus-within{
  border-color: var(--rte-border-focus);
  box-shadow: 0 0 0 4px var(--ring, rgba(59,130,246,.25)), var(--rte-shadow);
}

/* Placeholder */
.rte-editor:empty::before{
  content: attr(data-placeholder);
  color: var(--rte-text-muted);
  pointer-events: none;
}

/* Tipografía del contenido */
.rte-editor h1, .rte-editor h2, .rte-editor h3{
  line-height: 1.25; margin: .6em 0 .3em; font-weight: 700; color: var(--rte-text);
}
.rte-editor h1{ font-size: 1.375rem; }
.rte-editor h2{ font-size: 1.2rem; }
.rte-editor h3{ font-size: 1.05rem; }

.rte-editor p{
  margin: .5em 0; color: var(--rte-text); font-size: .95rem;
}

/* Links */
.rte-editor a{
  color: var(--rte-primary); text-decoration: none;
}
.rte-editor a:hover{ text-decoration: underline; }

/* Listas */
.rte-editor ul, .rte-editor ol{
  padding-left: 1.25rem; margin: .4em 0 .6em;
}
.rte-editor li{ margin: .2em 0; }

/* Imágenes */
.rte-editor img{
  max-width: 100%; height: auto; border-radius: 8px;
}

/* Código inline */
.rte-editor code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  background: color-mix(in oklab, var(--field-bg, #f1f5f9) 96%, transparent);
  border: 1px solid var(--rte-border);
  border-radius: 6px;
  padding: 0 4px; font-size: .85em;
}

/* ReadOnly */
.rte.readonly .rte-toolbar{ display: none; }
.rte.readonly .rte-editor{ padding-top: 16px; }
